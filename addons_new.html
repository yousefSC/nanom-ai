<!-- ADDON: Code Playground Modal -->
<div class="modal-overlay" id="playground-modal">
    <div class="modal-content glass-panel" style="max-width: 95vw; max-height: 90vh;">
        <div class="modal-header">
            <h3>âš¡ Code Playground</h3>
            <button class="close-modal">Ã—</button>
        </div>
        <div class="modal-body playground-body">
            <div class="playground-editors">
                <div class="editor-panel">
                    <div class="editor-header">HTML</div>
                    <textarea id="html-editor" class="code-editor" placeholder="<h1>Hello World</h1>"></textarea>
                </div>
                <div class="editor-panel">
                    <div class="editor-header">CSS</div>
                    <textarea id="css-editor" class="code-editor" placeholder="h1 { color: blue; }"></textarea>
                </div>
                <div class="editor-panel">
                    <div class="editor-header">JavaScript</div>
                    <textarea id="js-editor" class="code-editor" placeholder="console.log('Hello');"></textarea>
                </div>
            </div>
            <div class="playground-preview">
                <div class="preview-header">
                    <span>Preview</span>
                    <button class="btn-sml btn-secondary" onclick="addonManager.sendPlaygroundToChat()">Send to
                        Chat</button>
                </div>
                <iframe id="playground-iframe"></iframe>
            </div>
        </div>
    </div>
</div>

<!-- ADDON: API Tester Modal -->
<div class="modal-overlay" id="api-modal">
    <div class="modal-content glass-panel" style="max-width: 800px; max-height: 80vh;">
        <div class="modal-header">
            <h3>ðŸ“¡ API Tester</h3>
            <button class="close-modal">Ã—</button>
        </div>
        <div class="modal-body" style="flex-direction: column; gap: 15px; padding: 20px; overflow-y: auto;">
            <div class="api-row">
                <select id="api-method" class="custom-input" style="width: 120px;">
                    <option>GET</option>
                    <option>POST</option>
                    <option>PUT</option>
                    <option>DELETE</option>
                </select>
                <input type="text" id="api-url" class="custom-input" placeholder="https://api.example.com/endpoint"
                    style="flex: 1;">
            </div>
            <div class="api-row">
                <label style="width: 100px;">Headers:</label>
                <textarea id="api-headers" class="custom-input" rows="3"
                    placeholder='{"Content-Type": "application/json"}'></textarea>
            </div>
            <div class="api-row">
                <label style="width: 100px;">Body:</label>
                <textarea id="api-body" class="custom-input" rows="4" placeholder='{"key": "value"}'></textarea>
            </div>
            <button class="btn-primary" onclick="addonManager.sendAPIRequest()">Send Request</button>

            <div class="api-response">
                <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <strong>Response:</strong>
                    <button class="btn-sml btn-secondary" onclick="addonManager.sendAPIResponseToChat()">Send to
                        Chat</button>
                </div>
                <div id="api-status" style="font-size: 0.9rem; color: #888; margin-bottom: 8px;">Ready</div>
                <pre id="api-response-body"
                    style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; overflow-x: auto; max-height: 300px; font-size: 0.85rem;"></pre>
            </div>
        </div>
    </div>
</div>

<!-- ADDON: CSS Generators Modal -->
<div class="modal-overlay" id="cssgenerators-modal">
    <div class="modal-content glass-panel" style="max-width: 700px;">
        <div class="modal-header">
            <h3>ðŸŽ¨ CSS Generators</h3>
            <button class="close-modal">Ã—</button>
        </div>
        <div class="modal-body" style="flex-direction: column; padding: 0;">
            <div class="css-gen-tabs">
                <button class="css-gen-tab active" data-gen="gradient">Gradient</button>
                <button class="css-gen-tab" data-gen="shadow">Box Shadow</button>
                <button class="css-gen-tab" data-gen="flexbox">Flexbox</button>
            </div>

            <!-- Gradient Generator -->
            <div class="css-gen-panel active" id="gen-gradient">
                <div class="gen-controls">
                    <label>Start Color: <input type="color" id="grad-start" value="#6366f1"></label>
                    <label>End Color: <input type="color" id="grad-end" value="#ec4899"></label>
                    <label>Angle: <input type="range" id="grad-angle" min="0" max="360" value="90"> <span
                            id="grad-angle-val">90Â°</span></label>
                </div>
                <div id="grad-preview" style="width: 100%; height:150px; border-radius: 12px;"></div>
                <div class="gen-output">
                    <code id="grad-code">background: linear-gradient(90deg, #6366f1, #ec4899);</code>
                    <button class="btn-sml btn-primary" onclick="addonManager.copyCSSCode('grad')">Copy</button>
                    <button class="btn-sml btn-secondary" onclick="addonManager.sendCSSToChat('grad')">Send</button>
                </div>
            </div>

            <!-- Box Shadow Generator -->
            <div class="css-gen-panel" id="gen-shadow">
                <div class="gen-controls">
                    <label>X Offset: <input type="range" id="shadow-x" min="-50" max="50" value="0"> <span
                            id="shadow-x-val">0px</span></label>
                    <label>Y Offset: <input type="range" id="shadow-y" min="-50" max="50" value="4"> <span
                            id="shadow-y-val">4px</span></label>
                    <label>Blur: <input type="range" id="shadow-blur" min="0" max="100" value="10"> <span
                            id="shadow-blur-val">10px</span></label>
                    <label>Spread: <input type="range" id="shadow-spread" min="-50" max="50" value="0"> <span
                            id="shadow-spread-val">0px</span></label>
                    <label>Color: <input type="color" id="shadow-color" value="#000000"></label>
                    <label>Opacity: <input type="range" id="shadow-opacity" min="0" max="100" value="25"> <span
                            id="shadow-opacity-val">0.25</span></label>
                </div>
                <div id="shadow-preview"
                    style="width: 200px; height:200px; background: white; margin: 20px auto; border-radius: 12px;">
                </div>
                <div class="gen-output">
                    <code id="shadow-code">box-shadow: 0px 4px 10px rgba(0,0,0,0.25);</code>
                    <button class="btn-sml btn-primary" onclick="addonManager.copyCSSCode('shadow')">Copy</button>
                    <button class="btn-sml btn-secondary" onclick="addonManager.sendCSSToChat('shadow')">Send</button>
                </div>
            </div>

            <!-- Flexbox Generator -->
            <div class="css-gen-panel" id="gen-flexbox">
                <div class="gen-controls">
                    <label>Direction:
                        <select id="flex-dir" class="custom-input">
                            <option value="row">Row</option>
                            <option value="column">Column</option>
                        </select>
                    </label>
                    <label>Justify:
                        <select id="flex-justify" class="custom-input">
                            <option value="flex-start">Start</option>
                            <option value="center">Center</option>
                            <option value="flex-end">End</option>
                            <option value="space-between">Space Between</option>
                            <option value="space-around">Space Around</option>
                        </select>
                    </label>
                    <label>Align Items:
                        <select id="flex-align" class="custom-input">
                            <option value="flex-start">Start</option>
                            <option value="center">Center</option>
                            <option value="flex-end">End</option>
                            <option value="stretch">Stretch</option>
                        </select>
                    </label>
                    <label>Gap: <input type="range" id="flex-gap" min="0" max="50" value="10"> <span
                            id="flex-gap-val">10px</span></label>
                </div>
                <div id="flex-preview"
                    style="display:flex; width: 100%; height:150px; background: rgba(255,255,255,0.05); border-radius: 12px; padding: 10px;">
                    <div style="width:60px; height:60px; background: #6366f1; border-radius: 8px;"></div>
                    <div style="width:60px; height:60px; background: #ec4899; border-radius: 8px;"></div>
                    <div style="width:60px; height:60px; background: #10b981; border-radius: 8px;"></div>
                </div>
                <div class="gen-output">
                    <code
                        id="flex-code">display: flex; flex-direction: row; justify-content: flex-start; align-items: flex-start; gap: 10px;</code>
                    <button class="btn-sml btn-primary" onclick="addonManager.copyCSSCode('flex')">Copy</button>
                    <button class="btn-sml btn-secondary" onclick="addonManager.sendCSSToChat('flex')">Send</button>
                </div>
            </div>
        </div>
    </div>
</div>